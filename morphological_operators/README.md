# Morphological Operators

This directory contains a set of 2D and 3D morphological operators for anti-aliasing, based on the SMAA (Enhanced Subpixel Morphological Antialiasing) technique.

## Files

### 2D Operators

- `AreaTex_2D.h`: A C-style header file containing the precomputed area texture for 2D SMAA. This texture is used to determine the blending factor for different edge patterns.
- `SearchTex_2D.h`: A C-style header file containing the precomputed search texture for 2D SMAA. This texture is used to determine the length of a straight line of pixels.

### 3D Operators

This work introduces a new set of 3D morphological operators, designed to handle the directional anisotropy of resin 3D printing. There are three "families" of operators, one for each major plane (XY, YZ, XZ).

- `AreaTex_3D_XY.h`, `AreaTex_3D_YZ.h`, `AreaTex_3D_XZ.h`: C-style header files containing the precomputed 3D area textures for each plane. These textures store blending values for different 3D patterns, with different logic for concave and convex shapes.
- `SearchTex_3D_XY.h`, `SearchTex_3D_YZ.h`, `SearchTex_3D_XZ.h`: C-style header files containing the precomputed 3D search textures for each plane.

### Generation Scripts

The header files were generated using the following Python scripts:

- `AreaTex.py`: Generates the 2D area texture. Based on the original script from the SMAA project.
- `SearchTex.py`: Generates the 2D search texture. Based on the original script from the SMAA project.
- `generate_areatex_3d.py`: Generates the 3D area textures.
- `generate_searchtex_3d.py`: Generates the 3D search textures.

To regenerate the textures, you will need Python 3, Pillow, and NumPy. You can then run the scripts from the root of the repository:

```bash
pip install Pillow numpy
python3 morphological_operators/AreaTex.py
python3 morphological_operators/SearchTex.py
python3 morphological_operators/generate_areatex_3d.py
python3 morphological_operators/generate_searchtex_3d.py
```

### Intermediate Files

- `*.tga`: These are intermediate image files generated by the scripts. They are useful for visualizing the generated textures.
